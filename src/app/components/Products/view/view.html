<app-header></app-header>

<div class="container mt-5">
  <!-- Loading state -->
  <div *ngIf="isLoading" class="text-center my-5">
    <div class="spinner-border text-primary" role="status"></div>
    <p class="mt-3 text-muted">Fetching latest products...</p>
  </div>

  <!-- Error message -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <!-- Products List -->
  <div *ngIf="!isLoading && products.length > 0">
    <h2 class="mb-4 fw-bold text-center">ðŸ›’ All Products</h2>
    <div class="row g-4">
      <div *ngFor="let product of products" class="col-sm-6 col-md-4 col-lg-3">
        <div class="card h-100 shadow-sm border-0 rounded-4 hover-card">
          <img [src]="product.imageUrl || 'assets/placeholder.jpg'" 
               class="card-img-top product-img" 
               alt="{{ product.name }}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title fw-semibold text-truncate">{{ product.name }}</h5>
            <p class="card-text text-muted small flex-grow-1">{{ product.description }}</p>
            <div class="d-flex justify-content-between align-items-center mt-2">
              <span class="badge bg-success px-3 py-2 fs-6">â‚¹{{ product.price }}</span>
              <a [routerLink]="['/bid', product.productId]" class="btn btn-primary btn-sm">View Details</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && products.length === 0" class="text-center my-5">
    <p class="text-muted fs-5">No products available at the moment.</p>
  </div>
</div>
